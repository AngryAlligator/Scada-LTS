<?xml version="1.0" encoding="UTF-8"?>
<config xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
        xmlns:jsr107='http://www.ehcache.org/v3/jsr107'
        xmlns="http://www.ehcache.org/v3"
        xsi:schemaLocation="http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd
                            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd">
    <service>
        <jsr107:defaults jsr-107-compliant-atomics="true" enable-management="true" enable-statistics="true"/>
    </service>

    <cache-template name="user_cache_template">
        <expiry>
            <none/>
        </expiry>
        <heap>200</heap>
    </cache-template>

    <cache-template name="profile_cache_template">
        <expiry>
            <none/>
        </expiry>
        <heap>200</heap>
    </cache-template>

    <cache-template name="permissions_cache_template">
        <expiry>
            <none/>
        </expiry>
        <heap>1000</heap>
    </cache-template>

    <!-- user -->
    <cache alias="user_list" uses-template="user_cache_template"/>
    <cache alias="user_by_id" uses-template="user_cache_template"/>
    <cache alias="user_by_username" uses-template="user_cache_template"/>

    <!-- profile -->
    <cache alias="profile_by_userid" uses-template="profile_cache_template"/>
    <cache alias="profile_by_xid" uses-template="profile_cache_template"/>
    <cache alias="profile_by_id" uses-template="profile_cache_template"/>
    <cache alias="userids_by_profileid" uses-template="profile_cache_template"/>
    <cache alias="profile_offset_limit" uses-template="profile_cache_template"/>

    <!-- share user -->
    <cache alias="share_user_datasource" uses-template="permissions_cache_template"/>
    <cache alias="share_user_datapoint" uses-template="permissions_cache_template"/>
    <cache alias="share_user_view" uses-template="permissions_cache_template"/>
    <cache alias="share_user_watchlist" uses-template="permissions_cache_template"/>

    <!-- permissions user -->
    <cache alias="permissions_user_datasource" uses-template="permissions_cache_template"/>
    <cache alias="permissions_user_datapoint" uses-template="permissions_cache_template"/>
    <cache alias="permissions_user_view" uses-template="permissions_cache_template"/>
    <cache alias="permissions_user_watchlist" uses-template="permissions_cache_template"/>

    <!-- permissions profile -->
    <cache alias="permissions_profile_datasource" uses-template="permissions_cache_template"/>
    <cache alias="permissions_profile_datapoint" uses-template="permissions_cache_template"/>
    <cache alias="permissions_profile_view" uses-template="permissions_cache_template"/>
    <cache alias="permissions_profile_watchlist" uses-template="permissions_cache_template"/>
</config>
