<?xml version="1.0" encoding="UTF-8"?>
<config xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
        xmlns:jsr107='http://www.ehcache.org/v3/jsr107'
        xmlns="http://www.ehcache.org/v3"
        xsi:schemaLocation="http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd
                            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd">
    <service>
        <jsr107:defaults jsr-107-compliant-atomics="true" enable-management="true" enable-statistics="true"/>
    </service>

    <cache-template name="cache_template">
        <expiry>
            <none/>
        </expiry>
        <heap>100</heap>
    </cache-template>

    <cache-template name="list_cache_template">
        <key-type>java.lang.Integer</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <none/>
        </expiry>
        <heap>100</heap>
    </cache-template>

    <!-- user -->
    <cache alias="user_by_id" uses-template="cache_template">
        <key-type>java.lang.Integer</key-type>
        <value-type>com.serotonin.mango.vo.User</value-type>
    </cache>
    <cache alias="user_by_username" uses-template="cache_template">
        <key-type>java.lang.String</key-type>
        <value-type>com.serotonin.mango.vo.User</value-type>
    </cache>
    <cache alias="user_list" uses-template="cache_template">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
    </cache>

    <!-- profile -->
    <cache alias="profile_by_id" uses-template="cache_template">
        <key-type>java.lang.Integer</key-type>
        <value-type>br.org.scadabr.vo.usersProfiles.UsersProfileVO</value-type>
    </cache>
    <cache alias="profile_by_xid" uses-template="cache_template">
        <key-type>java.lang.String</key-type>
        <value-type>br.org.scadabr.vo.usersProfiles.UsersProfileVO</value-type>
    </cache>
    <cache alias="profile_list_offset_limit" uses-template="cache_template">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
    </cache>
    <cache alias="profile_list_by_userid" uses-template="list_cache_template"/>
    <cache alias="userid_list_by_profileid" uses-template="list_cache_template"/>

    <!-- share user -->
    <cache alias="share_user_list_by_view" uses-template="list_cache_template"/>
    <cache alias="share_user_list_by_watchlist" uses-template="list_cache_template"/>

    <!-- by user -->
    <cache alias="permission_datasource_list_by_user" uses-template="list_cache_template"/>
    <cache alias="permission_datapoint_list_by_user" uses-template="list_cache_template"/>
    <cache alias="permission_view_list_by_user" uses-template="list_cache_template"/>
    <cache alias="permission_watchlist_list_by_user" uses-template="list_cache_template"/>

    <!-- by profile -->
    <cache alias="permission_datasource_list_by_profile" uses-template="list_cache_template"/>
    <cache alias="permission_datapoint_list_by_profile" uses-template="list_cache_template"/>
    <cache alias="permission_view_list_by_profile" uses-template="list_cache_template"/>
    <cache alias="permission_watchlist_list_by_profile" uses-template="list_cache_template"/>
</config>
